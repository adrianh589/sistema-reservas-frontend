import{a as Pe}from"./chunk-OVSK6U2K.js";import{a as _e,b as ne,c as Ee}from"./chunk-QHBUXLYT.js";import{A as g,B as S,D as o,E as d,F as H,G as v,H as A,I,J as he,K as w,L as ee,M as te,N as fe,P as be,Q as ve,R as xe,W as k,Y as E,Z as D,a as j,aa as Ae,b as T,ba as ge,ca as $,da as x,ea as q,f as Z,fa as G,g as R,ga as B,h as Ne,ha as $e,i as b,j as M,ja as P,k as V,l as re,la as O,m as le,ma as qe,n as l,na as Ge,o as m,oa as Be,p as h,pa as U,q as p,qa as ie,r as f,ra as Y,sa as z,ta as L,u as C,ua as J,v as _,va as K,w as i,wa as Se,x as e,xa as Ce,y as u,z as N}from"./chunk-HNJ2YGIL.js";var Oe=(()=>{let n=class n{};n.\u0275fac=function(r){return new(r||n)},n.\u0275cmp=b({type:n,selectors:[["app-dashboard"]],standalone:!0,features:[v],decls:28,vars:0,consts:[[1,"text-gray-400","bg-gray-900","body-font"],[1,"container","px-5","py-24","mx-auto","flex","flex-wrap"],[1,"flex","flex-wrap","-mx-4","mt-auto","mb-auto","lg:w-1/2","sm:w-2/3","content-start","sm:pr-10"],[1,"w-full","sm:p-4","px-4","mb-6"],[1,"title-font","font-medium","text-xl","mb-2","text-white"],[1,"flex","w-full","mb-20","flex-wrap"],[1,"sm:text-3xl","text-2xl","font-medium","title-font","text-white","lg:w-1/3","lg:mb-0","mb-4"],[1,"lg:pl-6","lg:w-2/3","mx-auto","leading-relaxed","text-base"],[1,"flex","flex-wrap","md:-m-2","-m-1"],[1,"flex","flex-wrap","w-1/2"],[1,"md:p-2","p-1","w-1/2"],["alt","gallery","src","https://megaricos.com/wp-content/uploads/2016/09/venetian-las-vegas-1.jpg",1,"w-full","object-cover","h-full","object-center","block"],["alt","gallery","src","https://s1.elespanol.com/2022/11/21/malaga/vivir/turismo/720189001_228892439_1706x960.jpg",1,"w-full","object-cover","h-full","object-center","block"],[1,"md:p-2","p-1","w-full"],["alt","gallery","src","https://assets.simpleviewinc.com/simpleview/image/upload/c_fill,h_533,q_75,w_800/v1/clients/houston/ThePostOak06_4561b8cd-6f02-4a91-b401-70b830e33643.jpg",1,"w-full","h-full","object-cover","object-center","block"],["alt","gallery","src","https://lasvegasentuidioma.com/wp-content/uploads/2019/07/hoteles-lujosos-las-vegas.jpg",1,"w-full","h-full","object-cover","object-center","block"],["alt","gallery","src","https://media.ambito.com/p/0c5616e28bf58d0403a76b5cc372f420/adjuntos/239/imagenes/036/681/0036681201/1200x675/smart/2jpg.jpg",1,"w-full","object-cover","h-full","object-center","block"],["alt","gallery","src","https://e00-expansion.uecdn.es/assets/multimedia/imagenes/2021/10/13/16341217436727.jpg",1,"w-full","object-cover","h-full","object-center","block"]],template:function(r,c){r&1&&(i(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),o(5,"Bienvenido Administrador"),e()()()()(),i(6,"section",0)(7,"div",1)(8,"div",5)(9,"h1",6),o(10,"Algunos de nuestros hoteles..."),e(),i(11,"p",7),o(12,"Reserva hoy!"),e()(),i(13,"div",8)(14,"div",9)(15,"div",10),u(16,"img",11),e(),i(17,"div",10),u(18,"img",12),e(),i(19,"div",13),u(20,"img",14),e()(),i(21,"div",9)(22,"div",13),u(23,"img",15),e(),i(24,"div",10),u(25,"img",16),e(),i(26,"div",10),u(27,"img",17),e()()()()())}});let a=n;return a})();var ye=j(K());var ce=`${Se.base_url}/api/hoteles`,oe=(()=>{let n=class n{constructor(t,r){this.http=t,this.authService=r}getHotel(t){return this.http.get(`${ce}/${t}`,{headers:this.authService.headers})}getHoteles(){return this.http.get(ce,{headers:this.authService.headers})}crearHotel(t){return this.http.post(ce,t,{headers:this.authService.headers})}editarHotel(t,r){return this.http.put(`${ce}/${r}`,t,{headers:this.authService.headers})}eliminarHotel(t){return this.http.delete(`${ce}/${t.id}`,{headers:this.authService.headers})}};n.\u0275fac=function(r){return new(r||n)(R(xe),R(Ce))},n.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"});let a=n;return a})();var ot=(a,n)=>n.id,at=()=>["/administradores","hoteles","agregar"],rt=(a,n)=>({"bg-success":a,"bg-danger":n}),lt=a=>["/administradores","hoteles","editar",a];function ct(a,n){if(a&1){let s=N();i(0,"tr")(1,"td",11),o(2),e(),i(3,"td",11),o(4),e(),i(5,"td",11)(6,"span",12),o(7),e()(),i(8,"td",11)(9,"button",13),o(10," Editar "),e(),i(11,"button",14),g("click",function(){let r=M(s).$implicit,c=S(2);return V(c.eliminarHotel(r))}),o(12,"Eliminar"),e()()()}if(a&2){let s=n.$implicit;l(2),d(s.id),l(2),d(s.nombre),l(2),p("ngClass",he(5,rt,s.habilitado,!s.habilitado)),l(),H(" ",s.habilitado?"Habilitado":"Deshabilitado"," "),l(2),p("routerLink",I(8,lt,s.id))}}function st(a,n){if(a&1&&(i(0,"div",6)(1,"div",7)(2,"table",8)(3,"thead")(4,"tr")(5,"th",9),o(6," ID "),e(),i(7,"th",10),o(8,"Nombre"),e(),i(9,"th",10),o(10,"Habilitado "),e(),i(11,"th",10),o(12,"Acciones "),e()()(),i(13,"tbody"),C(14,ct,13,10,"tr",null,ot),e()()()()),a&2){let s=S();l(14),_(s.hoteles)}}function dt(a,n){a&1&&(i(0,"h1"),o(1,"No hay hoteles creados"),e())}var Ue=(()=>{let n=class n{constructor(t){this.hotelService=t,this.hoteles=[],this.getHoteles()}getHoteles(){this.hotelService.getHoteles().subscribe({next:t=>{console.log(t),this.hoteles=t.hoteles},error:t=>console.log(t)})}eliminarHotel(t){return T(this,null,function*(){(yield ye.default.fire({title:"\xBFEst\xE1s seguro?",text:`Seguro que deseas eliminar el hotel: ${t.nombre}`,icon:"warning",showCancelButton:!0,confirmButtonText:"S\xED, eliminar",cancelButtonText:"Cancelar"})).isConfirmed&&this.hotelService.eliminarHotel(t).subscribe({next:c=>ye.default.fire({title:"\xC9xito",text:c.msg,icon:"success"}),error:c=>{c.error.ok||ye.default.fire({title:"Error",text:c.error.msg,icon:"error"})},complete:()=>this.getHoteles()})})}};n.\u0275fac=function(r){return new(r||n)(m(oe))},n.\u0275cmp=b({type:n,selectors:[["app-lista-ciudades"]],standalone:!0,features:[v],decls:10,vars:3,consts:[[1,"text-gray-600","body-font"],[1,"container","px-5","py-24","mx-auto"],[1,"flex","flex-col","text-center","w-full","mb-20"],[1,"sm:text-4xl","text-3xl","font-medium","title-font","mb-2","text-gray-900"],[1,"flex","justify-center"],[1,"bg-green-600","hover:bg-green-700","text-white","font-bold","py-2","px-6","rounded","focus:outline-none","border-0",3,"routerLink"],[1,"lg:w-full","mx-auto","overflow-auto"],[1,"table-responsive"],[1,"table-auto","w-full","text-center"],[1,"px-4","py-3","title-font","tracking-wider","font-medium","text-gray-900","text-sm","bg-gray-100","rounded-tl","rounded-bl"],[1,"px-4","py-3","title-font","tracking-wider","font-medium","text-gray-900","text-sm","bg-gray-100"],[1,"px-4","py-3"],[1,"badge",3,"ngClass"],[1,"btn","btn-primary","mr-2",3,"routerLink"],[1,"btn","btn-danger",3,"click"]],template:function(r,c){r&1&&(i(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3),o(4,"Gesti\xF3n de Hoteles"),e(),i(5,"div",4)(6,"button",5),o(7," Agregar Hotel "),e()()(),h(8,st,16,0,"div",6)(9,dt,2,0),e()()),r&2&&(l(6),p("routerLink",A(2,at)),l(2),f(8,c.hoteles.length>0?8:9))},dependencies:[fe,D]});let a=n;return a})();var de=j(K());var Q=(()=>{let n=class n{constructor(t){this.router=t}validarParametrosRutaYRedirigir(t,r,c){return t===null||!["agregar","editar"].includes(t)||t==="editar"&&!r?(this.redirigirAPagina(c),!1):!0}redirigirAPagina(t){this.router.navigate([t])}};n.\u0275fac=function(r){return new(r||n)(R(E))},n.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"});let a=n;return a})();function mt(a,n){a&1&&(i(0,"div",6),o(1," El nombre del hotel es requerido "),e())}var De=(()=>{let n=class n{constructor(t,r,c,F,W){this.route=t,this.router=r,this.hotelService=c,this.redireccionService=F,this.fb=W,this.hotelForm=this.fb.group({nombre:[null,[x.required,x.minLength(2),x.maxLength(50)]],habilitado:[!0]}),this.accion=null}ngOnInit(){this.accion=this.route.snapshot.paramMap.get("accion"),this.id=this.route.snapshot.paramMap.get("id"),this.redireccionService.validarParametrosRutaYRedirigir(this.accion,this.id,"/administradores/hoteles")&&(this.accion==="editar"?this.initForm():console.log("Acci\xF3n no v\xE1lida"))}initForm(){this.hotelService.getHotel(+this.id).subscribe({next:t=>{console.log(t),this.hotelForm.get("nombre")?.setValue(t.hotel.nombre),this.hotelForm.get("habilitado")?.setValue(t.hotel.habilitado)},error:t=>{console.log(t)}})}guardarHotel(){if(this.hotelForm.markAllAsTouched(),this.hotelForm.valid){let t=this.hotelForm.value;this.accion==="agregar"?this.hotelService.crearHotel(t).subscribe({next:r=>{de.default.fire({title:"\xC9xito",text:r.msg,icon:"success"})},error:r=>{r.error.ok||de.default.fire({title:"Error",text:r.error.msg,icon:"error"})},complete:()=>this.router.navigate(["/administradores","hoteles"])}):this.accion==="editar"&&this.hotelService.editarHotel(t,+this.id).subscribe({next:r=>de.default.fire({title:"\xC9xito",text:r.msg,icon:"success"}),error:r=>{r.error.ok||de.default.fire({title:"Error",text:r.error.msg,icon:"error"})},complete:()=>this.router.navigate(["/administradores","hoteles"])})}}};n.\u0275fac=function(r){return new(r||n)(m(k),m(E),m(oe),m(Q),m(z))},n.\u0275cmp=b({type:n,selectors:[["app-detalle-ciudad"]],standalone:!0,features:[v],decls:16,vars:4,consts:[[1,"container","mt-5"],[1,"fw-bold"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","formControlName","nombre","required","","minlength","2","maxlength","50",1,"form-control"],[1,"text-danger"],["for","habilitado"],["type","checkbox","id","habilitado","formControlName","habilitado",1,"form-check-input"],["type","submit",1,"btn","btn-primary"]],template:function(r,c){r&1&&(i(0,"div",0)(1,"h2",1),o(2),e(),i(3,"form",2),g("ngSubmit",function(){return c.guardarHotel()}),i(4,"div",3)(5,"label",4),o(6,"Nombre:"),e(),u(7,"input",5),h(8,mt,2,0,"div",6),e(),i(9,"div",3)(10,"label",7),o(11,"Habilitado:"),e(),u(12,"input",8),e(),i(13,"div",3)(14,"button",9),o(15),e()()()()),r&2&&(l(2),d(c.accion==="agregar"?"Crear Hotel":"Editar Hotel"),l(),p("formGroup",c.hotelForm),l(5),f(8,c.hotelForm.get("nombre").invalid&&c.hotelForm.get("nombre").touched?8:-1),l(7),d(c.accion==="agregar"?"Crear":"Guardar"))},dependencies:[L,B,$,ge,q,G,U,ie,Y,J,P,O]});let a=n;return a})();var Fe=j(K());var ut=(a,n)=>n.id,ht=()=>["/administradores","habitaciones","agregar"],ft=(a,n)=>({"bg-success":a,"bg-danger":n}),bt=a=>["/administradores","habitaciones","editar",a];function vt(a,n){if(a&1){let s=N();i(0,"tr")(1,"td",11),o(2),e(),i(3,"td",11),o(4),e(),i(5,"td",11),o(6),e(),i(7,"td",11),o(8),w(9,"currency"),e(),i(10,"td",11)(11,"span",12),o(12),e()(),i(13,"td",11),o(14),w(15,"currency"),e(),i(16,"td",11),o(17),e(),i(18,"td",11),o(19),e(),i(20,"td",11)(21,"button",13),o(22,"Editar"),e(),i(23,"button",14),g("click",function(){let r=M(s).$implicit,c=S(2);return V(c.eliminarHabitacion(r))}),o(24,"Eliminar"),e()()()}if(a&2){let s=n.$implicit;l(2),d(s.id),l(2),d(s.Hotel.nombre),l(2),H(" ",s.TipoHabitacion.nombre," "),l(2),d(te(9,10,s.valor,"$","symbol","1.0-0")),l(3),p("ngClass",he(20,ft,s.habilitado,!s.habilitado)),l(),H(" ",s.habilitado?"Habilitado":"Deshabilitado"," "),l(2),d(te(15,15,s.impuestos,"$","symbol","1.0-0")),l(3),d(s.numero_habitacion),l(2),d(s.UbicacionHabitacion==null?null:s.UbicacionHabitacion.ciudad),l(2),p("routerLink",I(23,bt,s.id))}}function xt(a,n){if(a&1&&(i(0,"div",6)(1,"div",7)(2,"table",8)(3,"thead")(4,"tr")(5,"th",9),o(6,"ID"),e(),i(7,"th",10),o(8,"Hotel"),e(),i(9,"th",10),o(10,"Tipo Habitaci\xF3n"),e(),i(11,"th",10),o(12,"Valor"),e(),i(13,"th",10),o(14,"Habilitado"),e(),i(15,"th",10),o(16,"Impuestos"),e(),i(17,"th",10),o(18,"N\xFAmero de Habitaci\xF3n"),e(),i(19,"th",10),o(20,"Ciudad"),e(),i(21,"th",10),o(22,"Acciones"),e()()(),i(23,"tbody"),C(24,vt,25,25,"tr",null,ut),e()()()()),a&2){let s=S();l(24),_(s.habitaciones)}}function gt(a,n){a&1&&(i(0,"h1"),o(1,"No hay habitaci\xF3nes"),e())}var Ye=(()=>{let n=class n{constructor(t){this.habitacionService=t,this.habitaciones=[],this.getHabitaciones()}getHabitaciones(){this.habitacionService.getHabitaciones().subscribe({next:t=>{console.log(t),this.habitaciones=t.habitaciones},error:t=>console.log(t)})}eliminarHabitacion(t){return T(this,null,function*(){(yield Fe.default.fire({title:"\xBFEst\xE1s seguro?",text:`Seguro que deseas eliminar el hotel: ${t.Hotel.nombre}`,icon:"warning",showCancelButton:!0,confirmButtonText:"S\xED, eliminar",cancelButtonText:"Cancelar"})).isConfirmed&&this.habitacionService.eliminarHabitacion(t).subscribe({next:c=>Fe.default.fire({title:"\xC9xito",text:c.msg,icon:"success"}),error:c=>{c.error.ok||Fe.default.fire({title:"Error",text:c.error.msg,icon:"error"})},complete:()=>this.getHabitaciones()})})}};n.\u0275fac=function(r){return new(r||n)(m(_e))},n.\u0275cmp=b({type:n,selectors:[["app-lista-habitaciones"]],standalone:!0,features:[v],decls:10,vars:3,consts:[[1,"text-gray-600","body-font"],[1,"container","px-5","py-24","mx-auto"],[1,"flex","flex-col","text-center","w-full","mb-20"],[1,"sm:text-4xl","text-3xl","font-medium","title-font","mb-2","text-gray-900"],[1,"flex","justify-center"],[1,"bg-green-600","hover:bg-green-700","text-white","font-bold","py-2","px-6","rounded","focus:outline-none","border-0",3,"routerLink"],[1,"lg:w-full","mx-auto","overflow-auto"],[1,"table-responsive"],[1,"table-auto","w-full","text-center"],[1,"px-4","py-3","title-font","tracking-wider","font-medium","text-gray-900","text-sm","bg-gray-100","rounded-tl","rounded-bl"],[1,"px-4","py-3","title-font","tracking-wider","font-medium","text-gray-900","text-sm","bg-gray-100"],[1,"px-4","py-3"],[1,"badge",3,"ngClass"],[1,"btn","btn-primary","mr-2",3,"routerLink"],[1,"btn","btn-danger",3,"click"]],template:function(r,c){r&1&&(i(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3),o(4,"Gesti\xF3n de Habitaciones"),e(),i(5,"div",4)(6,"button",5),o(7," Agregar Habitaci\xF3n "),e()()(),h(8,xt,26,0,"div",6)(9,gt,2,0),e()()),r&2&&(l(6),p("routerLink",A(2,ht)),l(2),f(8,c.habitaciones.length>0?8:9))},dependencies:[L,fe,D,ve]});let a=n;return a})();var X=j(K());var me=`${Se.base_url}/api/tipos-habitaciones`,ae=(()=>{let n=class n{constructor(t,r){this.http=t,this.authService=r}getTipoHabitacion(t){return this.http.get(`${me}/${t}`,{headers:this.authService.headers})}getTiposHabitacion(){return this.http.get(me,{headers:this.authService.headers})}crearTipoHabitacion(t){return this.http.post(me,t,{headers:this.authService.headers})}editarTipoHabitacion(t,r){return this.http.put(`${me}/${r}`,t,{headers:this.authService.headers})}eliminarTipoHabitacion(t){return this.http.delete(`${me}/${t.id}`,{headers:this.authService.headers})}};n.\u0275fac=function(r){return new(r||n)(R(xe),R(Ce))},n.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"});let a=n;return a})();var je=(a,n)=>n.id;function St(a,n){if(a&1&&(i(0,"option",7),o(1),e()),a&2){let s=n.$implicit;p("value",s.id),l(),d(s.nombre)}}function Ct(a,n){a&1&&(i(0,"div",8),o(1," El hotel es requerido "),e())}function _t(a,n){if(a&1&&(i(0,"option",7),o(1),e()),a&2){let s=n.$implicit;p("value",s.id),l(),d(s.nombre)}}function Et(a,n){a&1&&(i(0,"div",8),o(1," El Tipo de Habitaci\xF3n es requerido "),e())}function yt(a,n){if(a&1&&(i(0,"option",7),o(1),e()),a&2){let s=n.$implicit;p("value",s.id),l(),d(s.ciudad)}}function Ht(a,n){a&1&&(i(0,"div",8),o(1," El valor es requerido "),e())}function Ft(a,n){a&1&&(i(0,"div",8),o(1," Los impuestos son requeridos "),e())}function wt(a,n){a&1&&(i(0,"div",8),o(1," El numero de habitaci\xF3n es requerido "),e())}var Re=(()=>{let n=class n{constructor(t,r,c,F,W,Ze,et,tt){this.hotelService=t,this.tipoHabitacionService=r,this.redireccionService=c,this.route=F,this.fb=W,this.router=Ze,this.habitacionService=et,this.ciudadService=tt,this.tiposHabitacion=[],this.hoteles=[],this.ciudades=[],this.accion=null,this.habitacionForm=this.fb.group({id_hotel:[null,x.required],id_tipo_habitacion:[null,x.required],id_ubicacion_habitacion:[null],valor:[null,x.required],habilitado:[!0],impuestos:[null,x.required],numero_habitacion:[null,x.required]})}ngOnInit(){return T(this,null,function*(){this.accion=this.route.snapshot.paramMap.get("accion"),this.id=this.route.snapshot.paramMap.get("id"),this.redireccionService.validarParametrosRutaYRedirigir(this.accion,this.id,"/administradores/hoteles")&&(this.getHoteles(),this.getTiposHabitacion(),this.getCiudades(),this.accion==="editar"?this.initForm():console.log("Acci\xF3n no v\xE1lida"))})}getHoteles(){return this.hotelService.getHoteles().subscribe({next:t=>{console.log(t),this.accion==="agregar"&&t.hoteles.length===0?(X.default.fire("Alerta","Debes crear almenos un hotel antes de crear habitaci\xF3nes","warning"),this.router.navigateByUrl("/administradores/hoteles")):this.hoteles=t.hoteles},error:t=>console.log(t)})}getTiposHabitacion(){this.tipoHabitacionService.getTiposHabitacion().subscribe({next:t=>{console.log(t),this.accion==="agregar"&&t.tiposHabitaciones.length===0?(X.default.fire("Alerta","Debes crear almenos un tipo de habitaci\xF3n antes de crear habitaci\xF3nes","warning"),this.router.navigateByUrl("/administradores/tipos-habitacion")):this.tiposHabitacion=t.tiposHabitaciones},error:t=>console.log(t)})}getCiudades(){this.ciudadService.getCiudades().subscribe({next:t=>{console.log(t),this.ciudades=t.ciudades},error:t=>console.log(t)})}initForm(){this.habitacionService.getHabitacion(+this.id).subscribe({next:t=>{console.log(t),this.habitacionForm.get("id_hotel")?.setValue(t.habitacion.id_hotel),this.habitacionForm.get("id_tipo_habitacion")?.setValue(t.habitacion.id_tipo_habitacion),this.habitacionForm.get("valor")?.setValue(t.habitacion.valor),this.habitacionForm.get("impuestos")?.setValue(t.habitacion.impuestos),this.habitacionForm.get("numero_habitacion")?.setValue(t.habitacion.numero_habitacion),this.habitacionForm.get("habilitado")?.setValue(t.habitacion.habilitado)},error:t=>{console.log(t)}})}guardarHabitacion(){if(this.habitacionForm.markAllAsTouched(),this.habitacionForm.valid){let t=this.habitacionForm.value;this.accion==="agregar"?this.habitacionService.crearHabitacion(t).subscribe({next:r=>{X.default.fire({title:"\xC9xito",text:r.msg,icon:"success"})},error:r=>{r.error.ok||X.default.fire({title:"Error",text:r.error.msg,icon:"error"})},complete:()=>this.router.navigate(["/administradores","habitaciones"])}):this.accion==="editar"&&this.habitacionService.editarHabitacion(t,+this.id).subscribe({next:r=>X.default.fire({title:"\xC9xito",text:r.msg,icon:"success"}),error:r=>{r.error.ok||X.default.fire({title:"Error",text:r.error.msg,icon:"error"})},complete:()=>this.router.navigate(["/administradores","habitaciones"])})}}};n.\u0275fac=function(r){return new(r||n)(m(oe),m(ae),m(Q),m(k),m(z),m(E),m(_e),m(ne))},n.\u0275cmp=b({type:n,selectors:[["app-detalle-habitacion"]],standalone:!0,features:[v],decls:52,vars:8,consts:[[1,"container","mt-5"],[1,"fw-bold"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","hotel"],["aria-label","Default select example","id","hotel","formControlName","id_hotel","required","",1,"form-select"],["selected","","disabled",""],[3,"value"],[1,"text-danger"],["for","tipoHabitacion"],["aria-label","Default select example","id","tipoHabitacion","formControlName","id_tipo_habitacion","required","",1,"form-select"],["for","ciudad"],["id","ciudad","formControlName","id_ubicacion_habitacion",1,"form-select"],["for","valor"],["type","number","id","valor","formControlName","valor","maxlength","50","required","",1,"form-control"],["for","habilitado"],["type","checkbox","id","habilitado","formControlName","habilitado",1,"form-check-input"],["for","impuestos"],["type","number","id","impuestos","maxlength","50","formControlName","impuestos",1,"form-control"],["for","numeroHabitacion"],["type","number","id","numeroHabitacion","maxlength","50","formControlName","numero_habitacion","required","",1,"form-control"],["type","submit",1,"btn","btn-primary"]],template:function(r,c){r&1&&(i(0,"div",0)(1,"h2",1),o(2),e(),i(3,"form",2),g("ngSubmit",function(){return c.guardarHabitacion()}),i(4,"div",3)(5,"label",4),o(6,"Hotel:"),e(),i(7,"select",5)(8,"option",6),o(9,"Seleccione un hotel"),e(),C(10,St,2,2,"option",7,je),e(),h(12,Ct,2,0,"div",8),e(),i(13,"div",3)(14,"label",9),o(15,"Tipo Habitaci\xF3n:"),e(),i(16,"select",10)(17,"option",6),o(18,"Seleccione un tipo de habitaci\xF3n"),e(),C(19,_t,2,2,"option",7,je),e(),h(21,Et,2,0,"div",8),e(),i(22,"div",3)(23,"label",11),o(24,"Ciudad:"),e(),i(25,"select",12)(26,"option",6),o(27,"Seleccione una ciudad:"),e(),C(28,yt,2,2,"option",7,je),e()(),i(30,"div",3)(31,"label",13),o(32,"Valor:"),e(),u(33,"input",14),e(),h(34,Ht,2,0,"div",8),i(35,"div",3)(36,"label",15),o(37,"Habilitado:"),e(),u(38,"input",16),e(),i(39,"div",3)(40,"label",17),o(41,"Impuestos:"),e(),u(42,"input",18),e(),h(43,Ft,2,0,"div",8),i(44,"div",3)(45,"label",19),o(46,"N\xFAmero de Habitaci\xF3n:"),e(),u(47,"input",20),e(),h(48,wt,2,0,"div",8),i(49,"div",3)(50,"button",21),o(51),e()()()()),r&2&&(l(2),d(c.accion==="agregar"?"Crear Habitaci\xF3n":"Editar Habitaci\xF3n"),l(),p("formGroup",c.habitacionForm),l(7),_(c.hoteles),l(2),f(12,c.habitacionForm.get("id_hotel").invalid&&c.habitacionForm.get("id_hotel").touched?12:-1),l(7),_(c.tiposHabitacion),l(2),f(21,c.habitacionForm.get("id_tipo_habitacion").invalid&&c.habitacionForm.get("id_tipo_habitacion").touched?21:-1),l(7),_(c.ciudades),l(6),f(34,c.habitacionForm.get("valor").invalid&&c.habitacionForm.get("valor").touched?34:-1),l(9),f(43,c.habitacionForm.get("impuestos").invalid&&c.habitacionForm.get("impuestos").touched?43:-1),l(5),f(48,c.habitacionForm.get("numero_habitacion").invalid&&c.habitacionForm.get("numero_habitacion").touched?48:-1),l(3),d(c.accion==="agregar"?"Crear":"Guardar"))},dependencies:[L,B,Ge,Be,$,$e,ge,qe,q,G,U,Y,J,P,O]});let a=n;return a})();var It=(a,n)=>n.id,kt=a=>["/administradores","reservas",a];function Dt(a,n){if(a&1&&(i(0,"tr")(1,"td",9),o(2),e(),i(3,"td",9),o(4),e(),i(5,"td",9),o(6),e(),i(7,"td",9),o(8),w(9,"date"),e(),i(10,"td",9),o(11),w(12,"date"),e(),i(13,"td",9),o(14),e(),i(15,"td",9)(16,"button",10),o(17,"Ver Detalle"),e()()()),a&2){let s=n.$implicit;l(2),d(s.Reservistum.nombres),l(2),d(s.Reservistum.numero_documento),l(2),d(s.Habitacion.numero_habitacion),l(2),d(ee(9,7,s.fecha_inicio_reserva)),l(3),d(ee(12,9,s.fecha_fin_reserva)),l(3),d(s.cantidad_personas),l(2),p("routerLink",I(11,kt,s.id))}}function Lt(a,n){if(a&1&&(i(0,"div",4)(1,"div",5)(2,"table",6)(3,"thead")(4,"tr")(5,"th",7),o(6,"Reservista"),e(),i(7,"th",8),o(8,"Identificaci\xF3n"),e(),i(9,"th",8),o(10,"Habitaci\xF3n"),e(),i(11,"th",8),o(12,"Fecha de Inicio de la Reserva"),e(),i(13,"th",8),o(14,"Fecha de Fin de la Reserva"),e(),i(15,"th",8),o(16,"Cantidad de Personas"),e(),i(17,"th",8),o(18,"Acciones"),e()()(),i(19,"tbody"),C(20,Dt,18,13,"tr",null,It),e()()()()),a&2){let s=S();l(20),_(s.reservas)}}function jt(a,n){a&1&&(i(0,"h1"),o(1,"No hay reservas disponibles"),e())}var Je=(()=>{let n=class n{constructor(t){this.reservaService=t,this.reservas=[]}ngOnInit(){this.getReservas()}getReservas(){this.reservaService.getReservas().subscribe({next:t=>{console.log(t),this.reservas=t.reservas},error:t=>console.log(t)})}};n.\u0275fac=function(r){return new(r||n)(m(Ee))},n.\u0275cmp=b({type:n,selectors:[["app-lista-reservas"]],standalone:!0,features:[v],decls:7,vars:1,consts:[[1,"text-gray-600","body-font"],[1,"container","px-5","py-24","mx-auto"],[1,"flex","flex-col","text-center","w-full","mb-20"],[1,"sm:text-4xl","text-3xl","font-medium","title-font","mb-2","text-gray-900"],[1,"lg:w-full","mx-auto","overflow-auto"],[1,"table-responsive"],[1,"table-auto","w-full","text-center"],[1,"px-4","py-3","title-font","tracking-wider","font-medium","text-gray-900","text-sm","bg-gray-100","rounded-tl","rounded-bl"],[1,"px-4","py-3","title-font","tracking-wider","font-medium","text-gray-900","text-sm","bg-gray-100"],[1,"px-4","py-3"],[1,"btn","btn-primary",3,"routerLink"]],template:function(r,c){r&1&&(i(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3),o(4,"Listado de Reservas"),e()(),h(5,Lt,22,0,"div",4)(6,jt,2,0),e()()),r&2&&(l(5),f(5,c.reservas.length>0?5:6))},dependencies:[be,D]});let a=n;return a})();function Rt(a,n){if(a&1&&(i(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2",3),o(4,"Resumen"),e(),i(5,"h1",4),o(6),e()(),i(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),re(),i(12,"svg",10),u(13,"path",11),e()(),le(),i(14,"h2",12),o(15,"Fecha de inicio de la reserva"),e()(),i(16,"div",13)(17,"p",14),o(18),w(19,"date"),e()()()(),i(20,"div",6)(21,"div",7)(22,"div",8)(23,"div",9),re(),i(24,"svg",10),u(25,"path",15)(26,"circle",16),e()(),le(),i(27,"h2",12),o(28,"Fecha fin de la reserva"),e()(),i(29,"div",13)(30,"p",14),o(31),w(32,"date"),e()()()(),i(33,"div",6)(34,"div",7)(35,"div",8)(36,"div",9),re(),i(37,"svg",10),u(38,"circle",17)(39,"circle",18)(40,"path",19),e()(),le(),i(41,"h2",12),o(42,"Cantidad de personas"),e()(),i(43,"div",13)(44,"p",14),o(45),e()()()()()()(),i(46,"section",0)(47,"div",1)(48,"div",20)(49,"div",21)(50,"div",22)(51,"div",23)(52,"span",24),o(53,"N\xFAm."),e(),i(54,"span",25),o(55),e()(),i(56,"div",26)(57,"h2",27),o(58,"Habitaci\xF3n"),e(),i(59,"h1",28),o(60),w(61,"currency"),e(),i(62,"p",29)(63,"span",30),o(64,"Impuesto: "),e(),o(65),w(66,"currency"),e()()()(),i(67,"div",21)(68,"div",22)(69,"div",23)(70,"span",24),o(71,"G\xE9nero"),e(),i(72,"span",25),o(73),e()(),i(74,"div",26)(75,"h2",27),o(76,"Reservista"),e(),i(77,"h1",28),o(78),e(),i(79,"p",29)(80,"span",30),o(81,"Correo: "),e(),o(82),u(83,"br"),i(84,"span",30),o(85,"Fecha nacimiento: "),e(),o(86),u(87,"br"),i(88,"span",30),o(89,"Num. Documento: "),e(),o(90),u(91,"br"),i(92,"span",30),o(93,"Tel\xE9fono: "),e(),o(94),e()()()(),i(95,"div",21)(96,"div",22)(97,"div",23)(98,"div",9),re(),i(99,"svg",10),u(100,"path",11),e()()(),le(),i(101,"div",26)(102,"h2",27),o(103,"Contacto de emergencia"),e(),i(104,"h1",28),o(105),e(),i(106,"p",29)(107,"span",30),o(108,"Tel\xE9fono: "),e(),o(109),e()()()()()()()),a&2){let s=S();l(6),H("Detalles de la reserva ",s.reserva.id,""),l(12),d(ee(19,15,s.reserva.fecha_inicio_reserva)),l(13),d(ee(32,17,s.reserva.fecha_fin_reserva)),l(14),d(s.reserva.cantidad_personas),l(10),d(s.reserva.Habitacion.numero_habitacion),l(5),H("Valor: ",te(61,19,s.reserva.Habitacion.valor,"$","symbol","1.0-0"),""),l(5),d(te(66,24,s.reserva.Habitacion.impuestos,"$","symbol","1.0-0")),l(8),d(s.reserva.Reservistum.genero),l(5),d(s.reserva.Reservistum.nombres),l(4),H("",s.reserva.Reservistum.correo," "),l(4),H("",s.reserva.Reservistum.fecha_nacimiento," "),l(4),H("",s.reserva.Reservistum.numero_documento," "),l(4),H("",s.reserva.Reservistum.telefono_contacto," "),l(11),d(s.reserva.ContactoEmergencium.nombres),l(4),d(s.reserva.ContactoEmergencium.telefono_contacto)}}function Mt(a,n){a&1&&(i(0,"h1"),o(1,"No hay reservas por el momento..."),e())}var Ke=(()=>{let n=class n{constructor(t,r,c){this.route=t,this.router=r,this.reservaService=c,this.id=this.route.snapshot.paramMap.get("id"),this.id||this.router.navigate(["/administradores/reservas"]),this.getReserva(+this.id)}getReserva(t){this.reservaService.getReserva(t).subscribe({next:r=>{console.log(r),this.reserva=r.reserva},error:r=>{console.log(r)}})}};n.\u0275fac=function(r){return new(r||n)(m(k),m(E),m(Ee))},n.\u0275cmp=b({type:n,selectors:[["app-detalle-reserva"]],standalone:!0,features:[v],decls:2,vars:1,consts:[[1,"text-gray-600","body-font"],[1,"container","px-5","py-24","mx-auto"],[1,"flex","flex-col","text-center","w-full","mb-20"],[1,"text-xs","text-red-500","tracking-widest","font-medium","title-font","mb-1"],[1,"sm:text-3xl","text-2xl","font-medium","title-font","text-gray-900"],[1,"flex","flex-wrap","-m-4"],[1,"p-4","md:w-1/3"],[1,"flex","rounded-lg","h-full","bg-gray-100","p-8","flex-col"],[1,"flex","items-center","mb-3"],[1,"w-8","h-8","mr-3","inline-flex","items-center","justify-center","rounded-full","bg-red-500","text-white","flex-shrink-0"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","viewBox","0 0 24 24",1,"w-5","h-5"],["d","M22 12h-4l-3 9L9 3l-3 9H2"],[1,"text-gray-900","text-lg","title-font","font-medium"],[1,"flex-grow"],[1,"leading-relaxed","text-center"],["d","M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"],["cx","12","cy","7","r","4"],["cx","6","cy","6","r","3"],["cx","6","cy","18","r","3"],["d","M20 4L8.12 15.88M14.47 14.48L20 20M8.12 8.12L12 12"],[1,"flex","flex-wrap","-mx-4","-my-8"],[1,"py-8","px-4","lg:w-1/3"],[1,"h-full","flex","items-start"],[1,"w-12","flex-shrink-0","flex","flex-col","text-center","leading-none"],[1,"text-gray-500","pb-2","mb-2","border-b-2","border-gray-200"],[1,"font-medium","text-lg","text-gray-800","title-font","leading-none"],[1,"flex-grow","pl-6"],[1,"tracking-widest","text-xs","title-font","font-medium","text-red-500","mb-1"],[1,"title-font","text-xl","font-medium","text-gray-900","mb-3"],[1,"leading-relaxed","mb-5"],[1,"fw-bold"]],template:function(r,c){r&1&&h(0,Rt,110,29)(1,Mt,2,0),r&2&&f(0,c.reserva?0:1)},dependencies:[L,be,ve]});let a=n;return a})();var we=j(K());var Vt=(a,n)=>n.id,Nt=()=>["/administradores","tipos-habitacion","agregar"],At=a=>["/administradores","tipos-habitacion","editar",a];function $t(a,n){if(a&1){let s=N();i(0,"tr")(1,"td",11),o(2),e(),i(3,"td",11),o(4),e(),i(5,"td",11)(6,"button",12),o(7," Editar "),e(),i(8,"button",13),g("click",function(){let r=M(s).$implicit,c=S(2);return V(c.eliminarTipoHabitacion(r))}),o(9,"Eliminar"),e()()()}if(a&2){let s=n.$implicit;l(2),d(s.id),l(2),d(s.nombre),l(2),p("routerLink",I(3,At,s.id))}}function qt(a,n){if(a&1&&(i(0,"div",6)(1,"div",7)(2,"table",8)(3,"thead")(4,"tr")(5,"th",9),o(6,"ID"),e(),i(7,"th",10),o(8,"Nombre"),e(),i(9,"th",10),o(10,"Acciones"),e()()(),i(11,"tbody"),C(12,$t,10,5,"tr",null,Vt),e()()()()),a&2){let s=S();l(12),_(s.tiposHabitacion)}}function Gt(a,n){a&1&&(i(0,"h1"),o(1,"No hay tipos de habitacion"),e())}var Qe=(()=>{let n=class n{constructor(t){this.tipoHabitacionService=t,this.tiposHabitacion=[],this.getTiposHabitacion()}getTiposHabitacion(){this.tipoHabitacionService.getTiposHabitacion().subscribe({next:t=>{console.log(t),this.tiposHabitacion=t.tiposHabitaciones},error:t=>console.log(t)})}eliminarTipoHabitacion(t){return T(this,null,function*(){(yield we.default.fire({title:"\xBFEst\xE1s seguro?",text:`Seguro que deseas eliminar el hotel: ${t.nombre}`,icon:"warning",showCancelButton:!0,confirmButtonText:"S\xED, eliminar",cancelButtonText:"Cancelar"})).isConfirmed&&this.tipoHabitacionService.eliminarTipoHabitacion(t).subscribe({next:c=>we.default.fire({title:"\xC9xito",text:c.msg,icon:"success"}),error:c=>{c.error.ok||we.default.fire({title:"Error",text:c.error.msg,icon:"error"})},complete:()=>this.getTiposHabitacion()})})}};n.\u0275fac=function(r){return new(r||n)(m(ae))},n.\u0275cmp=b({type:n,selectors:[["app-lista-tipos-habitacion"]],standalone:!0,features:[v],decls:10,vars:3,consts:[[1,"text-gray-600","body-font"],[1,"container","px-5","py-24","mx-auto"],[1,"flex","flex-col","text-center","w-full","mb-20"],[1,"sm:text-4xl","text-3xl","font-medium","title-font","mb-2","text-gray-900"],[1,"flex","justify-center"],[1,"bg-green-600","hover:bg-green-700","text-white","font-bold","py-2","px-6","rounded","focus:outline-none","border-0",3,"routerLink"],[1,"lg:w-full","mx-auto","overflow-auto"],[1,"table-responsive"],[1,"table-auto","w-full","text-center"],[1,"px-4","py-3","title-font","tracking-wider","font-medium","text-gray-900","text-sm","bg-gray-100","rounded-tl","rounded-bl"],[1,"px-4","py-3","title-font","tracking-wider","font-medium","text-gray-900","text-sm","bg-gray-100"],[1,"px-4","py-3"],[1,"btn","btn-primary","mr-2",3,"routerLink"],[1,"btn","btn-danger",3,"click"]],template:function(r,c){r&1&&(i(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3),o(4,"Gesti\xF3n de Tipo de Habitaci\xF3n"),e(),i(5,"div",4)(6,"button",5),o(7," Agregar un Tipo De Habitacion "),e()()(),h(8,qt,14,0,"div",6)(9,Gt,2,0),e()()),r&2&&(l(6),p("routerLink",A(2,Nt)),l(2),f(8,c.tiposHabitacion.length>0?8:9))},dependencies:[D]});let a=n;return a})();var pe=j(K());function Bt(a,n){a&1&&(i(0,"div",6),o(1," El nombre del hotel es requerido "),e())}var Me=(()=>{let n=class n{constructor(t,r,c,F,W){this.route=t,this.router=r,this.tipoHabitacionService=c,this.redireccionService=F,this.fb=W,this.tipoHabitacionForm=this.fb.group({nombre:[null,[x.required,x.minLength(2),x.maxLength(50)]]}),this.accion=null}ngOnInit(){this.accion=this.route.snapshot.paramMap.get("accion"),this.id=this.route.snapshot.paramMap.get("id"),this.redireccionService.validarParametrosRutaYRedirigir(this.accion,this.id,"/administradores/tipos-habitaciones")&&(this.accion==="editar"?this.initForm():console.log("Acci\xF3n no v\xE1lida"))}initForm(){this.tipoHabitacionService.getTipoHabitacion(+this.id).subscribe({next:t=>{console.log(t),this.tipoHabitacionForm.get("nombre")?.setValue(t.tipoHabitacion.nombre)},error:t=>{console.log(t)}})}guardarTipoHabitacion(){if(this.tipoHabitacionForm.markAllAsTouched(),this.tipoHabitacionForm.valid){let t=this.tipoHabitacionForm.value;this.accion==="agregar"?this.tipoHabitacionService.crearTipoHabitacion(t).subscribe({next:r=>{pe.default.fire({title:"\xC9xito",text:r.msg,icon:"success"})},error:r=>{r.error.ok||pe.default.fire({title:"Error",text:r.error.msg,icon:"error"})},complete:()=>this.router.navigate(["/administradores","tipos-habitacion"])}):this.accion==="editar"&&this.tipoHabitacionService.editarTipoHabitacion(t,+this.id).subscribe({next:r=>pe.default.fire({title:"\xC9xito",text:r.msg,icon:"success"}),error:r=>{r.error.ok||pe.default.fire({title:"Error",text:r.error.msg,icon:"error"})},complete:()=>this.router.navigate(["/administradores","tipos-habitacion"])})}}};n.\u0275fac=function(r){return new(r||n)(m(k),m(E),m(ae),m(Q),m(z))},n.\u0275cmp=b({type:n,selectors:[["app-detalle-tipo-habitacion"]],standalone:!0,features:[v],decls:12,vars:4,consts:[[1,"container","mt-5"],[1,"fw-bold"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","formControlName","nombre","required","","minlength","2","maxlength","50",1,"form-control"],[1,"text-danger"],["type","submit",1,"btn","btn-primary"]],template:function(r,c){r&1&&(i(0,"div",0)(1,"h2",1),o(2),e(),i(3,"form",2),g("ngSubmit",function(){return c.guardarTipoHabitacion()}),i(4,"div",3)(5,"label",4),o(6,"Nombre:"),e(),u(7,"input",5),h(8,Bt,2,0,"div",6),e(),i(9,"div",3)(10,"button",7),o(11),e()()()()),r&2&&(l(2),d(c.accion==="agregar"?"Crear Tipo De Habitaci\xF3n":"Editar Tipo De Habitaci\xF3n"),l(),p("formGroup",c.tipoHabitacionForm),l(5),f(8,c.tipoHabitacionForm.get("nombre").invalid&&c.tipoHabitacionForm.get("nombre").touched?8:-1),l(3),d(c.accion==="agregar"?"Crear":"Guardar"))},dependencies:[J,B,$,q,G,U,ie,Y,P,O]});let a=n;return a})();var We=(a,n)=>{let s=Ne(E);return localStorage.getItem("token")?!0:(s.navigateByUrl("/administradores/login"),!1)};var Te=j(K());var Pt=(a,n)=>n.id,Ot=()=>["/administradores","ciudades","agregar"],Ut=a=>["/administradores","ciudades","editar",a];function Yt(a,n){if(a&1){let s=N();i(0,"tr")(1,"td",11),o(2),e(),i(3,"td",11),o(4),e(),i(5,"td",11)(6,"button",12),o(7," Editar "),e(),i(8,"button",13),g("click",function(){let r=M(s).$implicit,c=S(2);return V(c.eliminarCiudad(r))}),o(9,"Eliminar"),e()()()}if(a&2){let s=n.$implicit;l(2),d(s.id),l(2),d(s.ciudad),l(2),p("routerLink",I(3,Ut,s.id))}}function zt(a,n){if(a&1&&(i(0,"div",6)(1,"div",7)(2,"table",8)(3,"thead")(4,"tr")(5,"th",9),o(6," ID "),e(),i(7,"th",10),o(8,"Nombre"),e(),i(9,"th",10),o(10,"Acciones "),e()()(),i(11,"tbody"),C(12,Yt,10,5,"tr",null,Pt),e()()()()),a&2){let s=S();l(12),_(s.ciudades)}}function Jt(a,n){a&1&&(i(0,"h1"),o(1,"No hay hoteles creados"),e())}var Xe=(()=>{let n=class n{constructor(t){this.ciudadService=t,this.ciudades=[],this.getCiudades()}getCiudades(){this.ciudadService.getCiudades().subscribe({next:t=>{console.log(t),this.ciudades=t.ciudades},error:t=>console.log(t)})}eliminarCiudad(t){return T(this,null,function*(){(yield Te.default.fire({title:"\xBFEst\xE1s seguro?",text:`Seguro que deseas eliminar la ciudad: ${t.ciudad}`,icon:"warning",showCancelButton:!0,confirmButtonText:"S\xED, eliminar",cancelButtonText:"Cancelar"})).isConfirmed&&this.ciudadService.eliminarCiudad(t).subscribe({next:c=>Te.default.fire({title:"\xC9xito",text:c.msg,icon:"success"}),error:c=>{c.error.ok||Te.default.fire({title:"Error",text:c.error.msg,icon:"error"})},complete:()=>this.getCiudades()})})}};n.\u0275fac=function(r){return new(r||n)(m(ne))},n.\u0275cmp=b({type:n,selectors:[["app-lista-ciudades"]],standalone:!0,features:[v],decls:10,vars:3,consts:[[1,"text-gray-600","body-font"],[1,"container","px-5","py-24","mx-auto"],[1,"flex","flex-col","text-center","w-full","mb-20"],[1,"sm:text-4xl","text-3xl","font-medium","title-font","mb-2","text-gray-900"],[1,"flex","justify-center"],[1,"bg-green-600","hover:bg-green-700","text-white","font-bold","py-2","px-6","rounded","focus:outline-none","border-0",3,"routerLink"],[1,"lg:w-full","mx-auto","overflow-auto"],[1,"table-responsive"],[1,"table-auto","w-full","text-center"],[1,"px-4","py-3","title-font","tracking-wider","font-medium","text-gray-900","text-sm","bg-gray-100","rounded-tl","rounded-bl"],[1,"px-4","py-3","title-font","tracking-wider","font-medium","text-gray-900","text-sm","bg-gray-100"],[1,"px-4","py-3"],[1,"btn","btn-primary","mr-2",3,"routerLink"],[1,"btn","btn-danger",3,"click"]],template:function(r,c){r&1&&(i(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3),o(4,"Gesti\xF3n de Ciudades"),e(),i(5,"div",4)(6,"button",5),o(7," Agregar Ciudad "),e()()(),h(8,zt,14,0,"div",6)(9,Jt,2,0),e()()),r&2&&(l(6),p("routerLink",A(2,Ot)),l(2),f(8,c.ciudades.length>0?8:9))},dependencies:[D]});let a=n;return a})();var ue=j(K());function Kt(a,n){a&1&&(i(0,"div",6),o(1," El nombre de la ciudad es requerido "),e())}var Ve=(()=>{let n=class n{constructor(t,r,c,F,W){this.route=t,this.router=r,this.ciudadService=c,this.redireccionService=F,this.fb=W,this.ciudadForm=this.fb.group({ciudad:[null,[x.required,x.minLength(2),x.maxLength(50)]],habilitado:[!0]}),this.accion=null}ngOnInit(){this.accion=this.route.snapshot.paramMap.get("accion"),this.id=this.route.snapshot.paramMap.get("id"),this.redireccionService.validarParametrosRutaYRedirigir(this.accion,this.id,"/administradores/ciudades")&&(this.accion==="editar"?this.initForm():console.log("Acci\xF3n no v\xE1lida"))}initForm(){this.ciudadService.getCiudad(+this.id).subscribe({next:t=>{console.log(t),this.ciudadForm.get("ciudad")?.setValue(t.ciudad.ciudad)},error:t=>{console.log(t)}})}guardarCiudad(){if(this.ciudadForm.markAllAsTouched(),this.ciudadForm.valid){let t=this.ciudadForm.value;this.accion==="agregar"?this.ciudadService.crearCiudad(t).subscribe({next:r=>{ue.default.fire({title:"\xC9xito",text:r.msg,icon:"success"})},error:r=>{r.error.ok||ue.default.fire({title:"Error",text:r.error.msg,icon:"error"})},complete:()=>this.router.navigate(["/administradores","ciudades"])}):this.accion==="editar"&&this.ciudadService.editarCiudad(t,+this.id).subscribe({next:r=>ue.default.fire({title:"\xC9xito",text:r.msg,icon:"success"}),error:r=>{r.error.ok||ue.default.fire({title:"Error",text:r.error.msg,icon:"error"})},complete:()=>this.router.navigate(["/administradores","ciudades"])})}}};n.\u0275fac=function(r){return new(r||n)(m(k),m(E),m(ne),m(Q),m(z))},n.\u0275cmp=b({type:n,selectors:[["app-detalle-ciudad"]],standalone:!0,features:[v],decls:12,vars:4,consts:[[1,"container","mt-5"],[1,"fw-bold"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","formControlName","ciudad","required","","minlength","2","maxlength","50",1,"form-control"],[1,"text-danger"],["type","submit",1,"btn","btn-primary"]],template:function(r,c){r&1&&(i(0,"div",0)(1,"h2",1),o(2),e(),i(3,"form",2),g("ngSubmit",function(){return c.guardarCiudad()}),i(4,"div",3)(5,"label",4),o(6,"Nombre:"),e(),u(7,"input",5),h(8,Kt,2,0,"div",6),e(),i(9,"div",3)(10,"button",7),o(11),e()()()()),r&2&&(l(2),d(c.accion==="agregar"?"Crear Ciudad":"Editar Ciudad"),l(),p("formGroup",c.ciudadForm),l(5),f(8,c.ciudadForm.get("ciudad").invalid&&c.ciudadForm.get("ciudad").touched?8:-1),l(3),d(c.accion==="agregar"?"Crear":"Guardar"))},dependencies:[L,B,$,q,G,U,ie,Y,J,P,O]});let a=n;return a})();var zi=[{path:"",children:[{path:"login",component:Pe},{path:"",component:Oe,canActivate:[We]},{path:"hoteles",component:Ue},{path:"hoteles/:accion",component:De},{path:"hoteles/:accion/:id",component:De},{path:"tipos-habitacion",component:Qe},{path:"tipos-habitacion/:accion",component:Me},{path:"tipos-habitacion/:accion/:id",component:Me},{path:"ciudades",component:Xe},{path:"ciudades/:accion",component:Ve},{path:"ciudades/:accion/:id",component:Ve},{path:"habitaciones",component:Ye},{path:"habitaciones/:accion",component:Re},{path:"habitaciones/:accion/:id",component:Re},{path:"reservas",component:Je},{path:"reservas/:id",component:Ke},{path:"**",pathMatch:"full",component:Ae}]}];export{zi as adminRoutes};
